## Задачи анализа ##
<p> Исходные данные представлены в файле <b><i>students_attendance.xlsx</i></b> и содержат информацию о посещаемости кружка. Все данные анонимизированы и представлены в виде идентификаторов. </p>
<p> Необходимо провести анализ имеющихся данных и представить выводы и рекомендации. </p>

### Этап проведения анализа ###
<p> Был написан скрипт на Python для считывания данных из файла <b><i>students_attendance.xlsx</i></b> и последующей их загрузки в базу данных (СУБД Postgres). Далее был проведен анализ с применением языка SQL:
  
- Файл <b><i>config.ini</i></b> хранятся доступы к локальной БД (необходимо заменить на актуальные);
- Файл <b><i> dataset_transformation.py </i></b> содержит функцию для выгрузки данных из excel файла и возвращает результирующий датафрейм;
- Файл <b><i> pg_db_connection.py </i></b> содержит класс коннектор для подключения к базе данных и загрузки в нее данных;
- Файл <b><i> run_elt.py </i></b> содержит скрипт запуска сосновной программы;
- Папка <b><i> SQL-Scripts </i></b> хранятся SQL-скрипты для создания таблицы <b><i>students_attendance</i></b> и проведения аналитики. </p>

### Анализ данных ###
<p> 1. Рассчитаем динамику изменения кол-ва активных учеников: DAU (ежедневные студенты), Moving_AVG_DAU (сглаживание DAU методом скользящего среднего, желтая линия на графике), Moving_Median_DAU (медианное сглаживание, зеленая линия на графике). 

Файл <b><i> moving_dau.sql </i></b>.

![moving_dau](https://github.com/user-attachments/assets/00f0066e-64df-413d-a48c-d865640da359)

По итогу запроса видны колебания в метрике DAU - в какие-то дни количество учеников резко увеличивалось: от 10 учеников и выше (нужно исследовать эти дни).

При этом нарастающие значения изменяются постепенно относительно показателя DAU, в целом не так много учеников ежедневно посещают занятия (либо маленькая группа, либо много прогульщиков, что также исследуем).
</p>
<br>
<p> 2. Рассчитаем количество активных учеников по дням недели и найдем их среднее количество. 

Файл <b><i> students_by_day.sql </i></b>.

![students_by_day](https://github.com/user-attachments/assets/a605236c-07a5-403c-b45e-889c2010aa85)

Запрос показывает, что популярные дни посещения кружка для студентов - среда и пятница (видно по DAU в прошлом запросе, когда было наибольшее количество учеников).

Среднее число учеников в неделю - 21. Полагаю, что часть студентов ходит несколько раз в неделю на тренировку.
</p>
<br>
<p> 3. Рассчитаем Sticky Factor - вовлеченность учеников в посещение кружка. 

Файл <b><i> sticky_factor.sql </i></b>.

![sticky_factor](https://github.com/user-attachments/assets/7f8419e3-2dc8-4469-b228-79ada6f0e793)

В данном запросе SF равняется 22% и показывает, что одна пятая учеников активно посещает тренировку (активные ученики).
</p>
<br>
<p> 4. Дополнительно проверим процент посещаемости кружка. 

Файл <b><i> avg_attendance_percent.sql </i></b>.

![avg_attendance_percent](https://github.com/user-attachments/assets/d058cdcf-38c6-4416-9e3a-97eed085af58)

Результат указывает, что не так много учеников пропускают занятия (посещаемость 82,5%). Невысокие показатели DAU из первого запроса обусловлены малым составом группы на каждом из учебных кружков.
</p>
<br>
<p> 5. Дополнительно рассчитаем Rolling Retention по месячной когорте (при этом имеется небольшое количество учеников, особенно в последний месяц было всего 5 учеников и по ним нет статистики на 30-й день):

Файл <b><i> rolling_retention.sql </i></b>.

![rolling_retention](https://github.com/user-attachments/assets/c746f0da-6654-4f27-a6cd-f83fd6be8a6d)

Имеется мало данных по посещаемости. При этом видно, что у учеников первой месячной когорты лучший процент удержания. При этом отсутствуют данные по источнику привлечения студентов, нет информации по самим кружкам, в связи с чем нет возможности сделать детальные выводы по результату анализа retention. </p>
### Выводы ###
<p> По итогу проведенного исследования были получены следующие выводы:
  
- Ежедневно посещает тренировку небольшое количество учеников (предполагаю, что это персональные тренировки для малой группы). При этом имеется мало прогульщиков;
- Среднее и медиана показывают, что за день проодятся тренировки у 5-6 пользователей. При этом в среду и пятницу наибольшее количество учеников (популярные дни посещений);
- Есть постоянные ученики (доля составляет 22%). Если бы имелись персональные данные по ученикам и их транзакциям (платежам), можно было бы провести RFM-анализ для определения лояльных учеников;
- Дополнительно был проведен когортный анализ. Но в связи с малым количеством учеников в группах и данных по их активности сложно сделать однозначные выводы.
	При этом видно, что первый месяц в когорте имеет наибольший процент удержания (аудитория активно возвращалась повторно на тренировку.)</p>
